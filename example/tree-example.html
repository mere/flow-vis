<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="/dist/nflow-vis.css">
  <!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <script src="/node_modules/d3/d3.js"></script>
  <script src="/node_modules/nflow/dist/nflow.js"></script>
  <script src="/dist/nflow-vis.js"></script>
  <style type="text/css">
    figure{
      height: 300px;
      width: 400px;
      display: inline-block;
    }
  </style>
</head>

<body id="home">

  <h1>nFlow-vis example</h1>
  <figure class='example1'  ></figure>
  <figure>
    <svg width=100% height=100% >
      <g width="400" height="300" class="example2"></g>
    </svg>
  </figure>
  <script type="text/javascript">(function(){
    
    var dom = d3.select('.example1').node()
    nFlow.enableDevTools()
    var f = nFlow.create('f').parent(null)
    var parser = nFlowVis.Vis()
      .call(nFlowVis.Tree)
      .emit('dom', dom)
      .emit('track', f)
      //.emit('show-events', false)
      //.emit('allow-dragging', false)
      //.emit('type', 'cluster')
      
    var a = f.create('a')
      .on('foo', function(){})
      .on('bar', function(){})
      .on('dog', function(){})
      .on('hello', function(){})

    f.create('beta')
    var c = f.create('c')

    c.create('x')
    var e = c.create('position-service')
      .on('bar', function(){ })
    
    e.create('foxtrot')
      .on('bar', function(){})

    var g = e.create('g')
    
    f.create('d')
      .on('hello', function(){})

    c.emit('hello').emit('bar')
    c.emit('hello').emit('bar')
    c.emit('hello').emit('bar')
    c.emit('hello').emit('bar')
    c.emit('hello').emit('bar')
      .call(f=>{
        f.emit('cat')
        f.emit('dog')
      })
    c.emit('hello').emit('bar')
    c.emit('foo')
    g.emit('hello')
    g.emit('helo')

    g.cancel()
    f.emit('bar')
  }())</script>

</body>
</html>