{"version":3,"sources":["webpack:///webpack/bootstrap 898bc02fc15be68c0052","webpack:///./src/index.js","webpack:///./src/vis/vis.js","webpack:///external \"nflow\"","webpack:///./src/parser/parser.js","webpack:///./src/utils/utils.js","webpack:///./src/utils/consts.js","webpack:///./src/parser/actions.js","webpack:///./src/model/model.js","webpack:///./src/tree/tree.js","webpack:///./src/tree/tree.scss","webpack:///./src/nodes/nodes.js","webpack:///./src/utils/paths.js","webpack:///./src/links/links.js","webpack:///./src/timeline/timeline.js","webpack:///./src/debug/debug.js"],"names":[],"mappings":"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","file":"nflow-vis.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://localhost:4000/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 898bc02fc15be68c0052\n **/","import Vis from './vis/vis'\nimport Tree from './tree/tree'\nimport Timeline from './timeline/timeline'\nimport Debug from './debug/debug'\n\nexport var nflowVis = {\n  Vis,\n  Tree,\n  Timeline,\n  Debug\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import nflow from 'nflow'\nimport Parser from '../parser/parser'\n\nexport default (parent)=>(\n  nflow.create('nflow-vis')\n    .parent(parent)\n    .call(Parser)\n)\n\n\n/** WEBPACK FOOTER **\n ** ./src/vis/vis.js\n **/","(function() { module.exports = this[\"nflow\"]; }());\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"nflow\"\n ** module id = 2\n ** module chunks = 0\n **/","import utils from '../utils/utils'\nimport {ERRORS} from '../utils/consts'\nimport Actions from './actions'\nimport Model from '../model/model'\nimport nflow from 'nflow'\n\nexport default (parent)=>{\n\n  var f = nflow.create('parser')\n    .parent(parent)\n    .call(Actions)\n    .call(Model)\n    .on('track', track)\n  \n\n  /**\n   *  Tracks a note and treats as the root of the subtree to visualise\n   */\n\n  function track(root){\n    utils.assert(!root.name.isFlow\n         , ERRORS.invalidTrackArgs)\n    \n    f.emit('action', 'start', utils.toObj(root), null, null)\n    initLogger()\n  }\n\n  /**\n   *  \n   */\n  function initLogger(){\n    if (initLogger.inited) return;\n    var model = f.emit('get-model').data()\n    initLogger.inited = true;\n    nflow.logger((flow, name, newData, oldData)=>{\n      \n      // avoid circular tracking\n      if (flow.parents.has('nflow-vis')) return\n      \n      // only track subnodes of the root node\n      if (!model.nodeMap[flow.guid()]) {\n        //console.warn('not tracking:', flow.name())\n        return;\n      };\n\n      f.emit('action', name, \n        utils.toObj(flow)\n        , utils.toObj(newData), utils.toObj(oldData))\n    })\n  }\n\n  return f\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/parser/parser.js\n **/","var utils = {}\n\nutils.parentCancelled = node=>{\n  if (!node) return false\n  return node.f.source.status =='CANCELLED' \n    || utils.parentCancelled(node.parent)\n}\n\nutils.hasNoRecipients = node=>{\n  return node.f.source.recipients &&\n    node.f.source.recipients.length==0\n}\n\nutils.isRecipient = (node,s)=>{\n  if (!node \n    || !s.showRoute \n    || !s.showRoute.f.source.recipients) \n    return false\n  \n  return s.showRoute.f.source.recipients\n    .some(f=>f.flow.guid==node.f.guid)\n}\n\nutils.isEmitter = (node,s)=>{\n  if (!node \n    || !s.showRoute \n    || !s.showRoute.f.source.recipients) \n    return false\n  \n  return s.showRoute.f.source.parent.guid==node.f.guid\n}\n\n/**\n * the node where the event re-enters into the tree\n * from an event chain\n */\nutils.isEntryPoint = (node,s)=>{\n  if (!node \n    || !s.showRoute \n    || !s.showRoute.f.source.recipients) \n    return false\n\n  let entryPoint = s.showRoute\n  while (entryPoint && entryPoint.f.isEvent){\n    entryPoint = entryPoint.parent\n  }\n  return entryPoint.f.guid==node.f.guid\n}\n\nutils.assert = (condition, error, val)=>{\n  if (condition) {\n    throw new Error(error\n      .replace(\"%s\", val))\n  }\n  return condition\n}\n\nutils.toObj = (d)=>{\n  return d && d.name && d.name.isFlow\n    ? d.toObj()\n    : d\n}\n\n//TODO check maxHeight as well\nutils.fitText = function(maxWidth){\n  return function(d){\n    var d3text = d3.select(this)\n    var bb = d3text.node().getBBox();\n    var r = maxWidth / bb.width;\n    r = Math.min(r,1)\n    d3text\n      .style('transform', `scale(${r})`)\n    \n  }\n}\nutils.wrapText = function(maxWidth) {\n  return function(d){\n\n    var d3text = d3.select(this),\n      words = d.displayName\n        .replace(/(-|\\.|\\s)/g,'$&{SEP}')\n        .split('{SEP}')\n        .reverse(),\n      word,\n      line = [],\n      lineNumber = 0,\n      lineHeight = .5, // ems\n      x = d3text.attr(\"x\"),\n      y = d3text.attr(\"y\"),\n      dy = parseFloat(d3text.attr(\"dy\")),\n      tspan = d3text.text(null)\n         .append(\"tspan\")\n         .attr(\"x\", x)\n         .attr(\"y\", y)\n         .attr(\"dy\", dy + \"em\");\n  \n    while (word = words.pop()) {\n      line.push(word);\n      tspan.text(line.join(\"\"));\n      if (tspan.node().getComputedTextLength() > maxWidth && line.length>1) {\n        line.pop();\n        tspan.text(line.join(\"\"));\n        line = [word];\n        tspan = d3text\n          .append(\"tspan\")\n          .attr(\"x\", x)\n          .attr(\"y\", y)\n          .attr(\"dy\", lineHeight + dy + \"em\")\n          .text(word);\n      }\n    }\n  }\n}\n\nexport default utils\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/utils.js\n **/","\nexport const ERRORS = {\n  invalidRootArgs:      'Invalid Argument. Please use a flow object as the root parameter'\n, invalidTrackArgs:     'Invalid Argument. Please use the imported nFlow object as the track parameter'\n, invalidOnChangeArgs:  'Invalid Argument. Please use a Function as the callback'\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/consts.js\n **/","import nflow from 'nflow'\nvar actions  = {}\n\nexport default (parent)=>{\n  var f = nflow.create('actions')\n    .parent(parent)\n    .on('action', parseAction)\n  \n  /**\n   *  Parses a new action(eg. flow emitted action),\n   *  and stores the new tree state in the model \n   */\n  function parseAction(name, ...data){\n    var s = f.emit('get-model').data()\n    if (actions[name]) {\n      //console.log(name, data)\n      actions[name](s, ...data)\n      throttledUpdate()\n    }\n    else {\n      console.warn('no parser found for \"'+name+'\"', data)\n    }\n  }\n\n  function throttledUpdate(){\n    if (throttledUpdate.timer) return;\n\n    throttledUpdate.timer = setTimeout(()=>{\n      delete throttledUpdate.timer;\n      var s = f.emit('get-model').data()\n      //console.log('update', s)\n      f.emit('update', s)\n    }, 200)\n  }\n}\n\nactions.listenerAdded = \n  actions.listenerRemoved = (s, f, newData, oldData)=>{\n    var e = s.nodeMap[f.guid]\n    if (!e) return\n    e.source = f\n    updateHash(e)\n  }\n\nactions.start = (s, f, newData, oldData)=>{\n  console.log('starting', s, f)\n  s.root = {\n      name: f.name,\n      guid: f.guid,\n      parent: null,\n      children: [],\n      numInstances:1,\n      source: f\n    }\n  updateHash(s.root)\n  s.nodeMap[s.root.guid]= s.root\n}\n\nactions.create = (s, f, newData, oldData)=>{\n  if (!s.root) actions.start(s, f, newData, oldData)\n\n    var p = s.nodeMap[f.guid]\n    if (!p) return;\n    p.children = p.children || [];\n    var existingNode = p.children.filter(c=>c.name==newData.name).pop()\n    var e = s.nodeMap[newData.guid] = {\n      name: newData.name,\n      guid: newData.guid,\n      children: [],\n      numInstances:1,\n      x0: p.x0,\n      y0: p.y0,\n      source: newData\n    }\n    updateHash(e)\n    // if (existingNode){\n    //   removeNode(existingNode,s)\n    //   s.nodeMap[newData.guid].numInstances+=existingNode.numInstances\n    //   s.nodeMap[newData.guid].isNew= false\n    // }\n    \n    p.children.push(e)\n  }\n\nactions.emit = (s, f, newData, oldData)=>{\n  var e = s.nodeMap[f.guid]\n  if (!e) return\n  e.source=f\n  e.isEvent = true;\n  updateHash(e)\n}\n\nactions.name = (s, f, newData, oldData)=>{\n  var e = s.nodeMap[f.guid]\n  if (!e) return\n  e.source=f\n  e.name = f.name\n  updateHash(e)\n}\n\nactions.data = (s, f, newData, oldData)=>{\n  var e = s.nodeMap[f.guid]\n  if (!e) return\n  e.data = newData\n  //updateHash(e)\n}\nactions.emitted = (s, f, newData, oldData)=>{\n  var e = s.nodeMap[f.guid]\n  if (!e) return\n  e.source=f\n  updateHash(e)\n}\n\nactions.cancel = (s, f, newData, oldData)=>{\n  var e = s.nodeMap[f.guid]\n  if (!e) return\n  e.source=f\n  updateHash(e)\n}\n\nactions.childRemoved = (s, f, oldParent)=>{\n  var e = s.nodeMap[f.guid]\n  if (!e) return\n  e.isRemoved = true\n  updateHash(e)\n}\n\nactions.childAdded = (s, f, newParent, oldParent)=>{\n  var e = s.nodeMap[f.guid]\n  if (!e) return\n  e.isRemoved = newParent==null\n  updateHash(e)\n  \n  // remove child from old parent\n  var oldP = oldParent && s.nodeMap[oldParent.guid]\n  if (oldP && newParent) oldP.children = oldP.children.filter(n=>n.guid!=f.guid)\n\n  // add to new parent\n  var newP = newParent && s.nodeMap[newParent.guid]\n  if (newP) {\n    newP.children = newP.children || [];\n    newP.children.push(e)\n  }\n}\n\n\nfunction removeNode(d,s){\n  d.childen && d.children.forEach(n=>removeNode(n,s))\n  if (d.parent) d.parent.children = d.parent.children.filter(n=>n.guid!=d.guid)\n  delete s.nodeMap[d.guid]\n  \n}\n\nfunction updateHash(d){\n  d.hash = createGuid()\n}\n\nfunction createGuid(){\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'\n    .replace(/[xy]/g, function(c) {\n      var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n      return v.toString(16);\n    });\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/parser/actions.js\n **/","import nflow from 'nflow'\n\nexport default (parent)=>(\n\n  nflow.create('model')\n    .parent(parent)\n    .data({\n      root: null,\n      nodeMap: {}\n    })\n    .on('get-model', function(){ \n      this.data(this.target.data())\n    })\n\n)\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/model.js\n **/","import './tree.scss'\nimport nflow from 'nflow'\nimport Nodes from '../nodes/nodes'\nimport Links from '../links/links'\n\nexport default (parent)=>(\n  nflow.create('tree')\n    .parent(parent)\n    .call(Nodes)\n    .call(Links)\n    .data({\n      tree: null,\n      dom: null,\n      duration: 200,\n      delay: 0,\n      dragging: true, //true, false, horizontal\n      showEvents: true,\n      nodes:null,\n      links:null,\n      maxBatchLength: 7,\n      clonedNodes : {}\n    })\n    .on('update', update\n                , render)\n    .on('dom'   , dom\n                , init\n                , resize)\n    .on('dragging', dragging)\n    .on('show-events', showEvents)\n    .on('select-node', selectNode)\n    .on('type', setType)\n    .on('resize', resize, redraw)\n    .call(f=>setType.call(f))\n)\n\nfunction dragging(flag){\n  this.target.data().dragging = flag\n}\n\nfunction showEvents(flag){\n  this.target.data().showEvents = flag\n}\n\nfunction selectNode(node){\n  if (this.target.data().selectedNode == node) return\n  this.target.data().selectedNode = node\n  console.log('selectedNode', this.target.data().selectedNode)\n  var s = this.emit('get-model').data()\n  this.emit('update',s)\n}\n\nfunction redraw(){\n  var s = this.emit('get-model').data()\n  this.emit('update',s)\n}\n\nfunction update(d){\n  console.log('update')\n  var flow = this.target\n  var tree = flow.data().tree\n  var fd = flow.data()\n  var pd = flow.parent().data()\n  fd.nodesByDepth = []\n  var i=0\n  if (d){\n    var rootNode = (pd && pd.eventRoot) || d.root\n    if (!rootNode) {\n      this.stopPropagation()\n      return;\n    }\n\n    var root = cloneNode(rootNode,fd)\n    fd.nodes = tree.nodes(root)//.reverse(),\n    fd.links = tree.links(fd.nodes);\n    fd.nodeMap = {}\n    fd.nodes.forEach(function(d) {\n      if (!fd.nodesByDepth[d.depth]) fd.nodesByDepth[d.depth] = []\n      \n      fd.nodesByDepth[d.depth].push(d)\n      fd.nodeMap[d.f.guid]= d\n      //d.y0 =d.y = d.depth*50+Math.random()*50\n      d.y = d.depth * (root.hidden?40:50)+ (root.hidden?0:50);\n      d.x+=fd.width/2\n      \n      d.hidden = d.f.hidden\n      d.needsUpdate = d.f.hash!=d.f.hash0 \n        || d.x!=d.x0 \n        || d.y!=d.y0\n\n      if (d.needsUpdate) d.updateIndex = i++\n      d.f.hash0 = d.f.hash\n      \n      d.x0 = (d.x0!=null)?d.x:(d.parent&&!d.parent.hidden?d.parent.x:d.x)\n      d.y0 = (d.y0!=null)?d.y:(d.parent&&!d.parent.hidden?d.parent.y:d.y)\n      \n    });\n    fd.nodesByDepth.forEach((nodes,i)=>{\n      if (nodes.length==1) {\n        let node = nodes[0]\n        node.displayName = node.f.name\n        node.recurring = false\n      }\n      nodes.reduce((a,b)=>{\n        let distance = b.x-a.x\n        a.recurring= (a.f.name==b.f.name) && distance<a.f.name.length*18\n        a.displayName = a.recurring?'':a.f.name\n        b.displayName = b.f.name\n        return b\n      })\n    })\n  }\n  //console.log(d)\n}\n\nfunction dom(dom){\n  this.target.data().dom = dom\n  this.target.data().isSVG = dom instanceof SVGElement\n}\n\nfunction setType(type='tree'){\n  let f = this.target || this\n\n  let d = f.data()\n  d.type = type\n  if (type=='tree') {\n    d.tree = d3.layout.tree()\n  }\n  if (type=='cluster'){\n    d.tree = d3.layout.cluster()\n  } \n  d.tree\n    .separation((a,b)=>{\n      //console.log('sep', a.f.name, b.f.name, a.depth, b)\n         return (a.f.name == b.f.name)\n          ? .05\n          : 1//b.f.name.length*.1\n      })\n    .nodeSize([100,50])\n    .children((e)=>(\n      d.showEvents\n        ? e.f.children\n            .map(e=>cloneNode(e,d))\n        : e.f.children && e.f.children\n            .filter(e=>!e.isEvent)\n            .map(e=>cloneNode(e,d))\n      ))\n\n\n}\n\nfunction cloneNode(e,d){\n  if (!d.clonedNodes[e.guid])\n    d.clonedNodes[e.guid] = { f:e }\n  return d.clonedNodes[e.guid]\n}\n\n\nfunction init(){\n  let d = this.target.data()\n  let d3dom = d3.select(d.dom)\n\n  d.d3svg = d3dom.html(\"\")\n  if (!d.isSVG) d.d3svg = d3dom.append(\"svg\")\n\n  d.d3g = d.d3svg\n    .classed('nflow-vis-tree', true)\n    .append('g')\n    .classed('drag', true)\n  \n  d.dragging \n    && d.d3g\n   .call(d3.behavior.zoom()\n      .scaleExtent([.2, 1])\n      .on(\"zoom\", zoom))\n    //.call(zoom)\n\n  d.d3overlay = d.d3g.append(\"rect\")\n    .classed(\"overlay\", true)\n    .on(\"click\", ()=>this.emit('select-node', null))\n\n    //TODO: move these into their respective nodes\n  d.d3contents = d.d3g.append('g')\n    .classed('tree', true)\n  d.d3links = d.d3contents.append('g')\n    .classed('links', true)\n  d.d3routes = d.d3contents.append('g')\n    .classed('routes', true)\n  d.d3nodes = d.d3contents.append('g')\n    .classed('nodes', true)\n\n  \n  // this.target\n  //   .get('links')\n  //   .emit.downstream('dom', d.d3links.node())\n\n  function zoom() {\n    var t = d3.event.translate,\n        s = d3.event.scale;\n    if (d.dragging=='horizontal') t[1] = 0\n    //zoom.translate(t);\n    d.d3contents\n      .attr(\"transform\", \"translate(\" + t + \")scale(\" + s + \")\");\n  }\n\n}\n\nfunction render(){\n  let d = this.target.data()\n  // d.d3links\n  //   .selectAll('.link')\n  //   .data(d.links)\n\n}\n\nfunction resize(){\n  let d = this.target.data()\n  let d3dom = d3.select(d.dom)\n  d.width = d.isSVG \n    ? parseInt(d3dom.attr('width'))\n    : parseInt(d3dom.style('width'))\n  d.height = d.isSVG \n    ? parseInt(d3dom.attr('height'))\n    : parseInt(d3dom.style('height'))\n\n  d.d3svg\n    .attr(\"width\", d.width)\n    .attr(\"height\", d.height);\n\n  d.d3overlay\n    .attr(\"width\", d.width)\n    .attr(\"height\", d.height);\n}\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/tree/tree.js\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/tree/tree.scss\n ** module id = 9\n ** module chunks = 0\n **/","import {RADIUS, CIRCLE, DROP} from '../utils/paths'\nimport utils from '../utils/utils'\nimport nflow from 'nflow'\n\nexport default (parent)=>(\n  nflow.create('nodes')\n    .parent(parent)\n    .data({\n      dom: null,\n      diagonal: d3.svg.diagonal()\n    })    \n    .on('dom'   , dom)\n    .on('update', render)\n)\n\nfunction dom(dom){\n  this.target.data().dom = dom\n}\n\n\n function render(){\n  let flow = this.target\n  let tree = this.target.parent()\n  let d = this.target.data()\n  let td = tree.data()\n  let d3dom = td.d3nodes\n  let nodes = td.nodes.filter(e=>!e.hidden)\n  // Update the nodes\n  var node = d3dom.selectAll(\"g.node\")\n    .data(nodes, function(d) {return d.f.guid })\n  \n  var nodeEnter = node.enter().append(\"g\")\n    .attr(\"class\", \"node\")\n    .style(\"opacity\", 0)\n    .attr(\"transform\", function(d) {\n      return \"translate(\" + d.x0 + \",\" + d.y0 + \")\"; })\n    .on(\"click\", d=>flow.emit('select-node', d))\n    \n\n  nodeEnter.append('path')\n    .attr(\"transform\", \"scale(.8)\")\n    .attr(\"d\", CIRCLE)\n\n  nodeEnter.append('g')\n    .classed('listeners', true)\n\n  nodeEnter\n    .append('g')\n    .attr(\"transform\", `translate(${RADIUS+4},0)`)\n    .append(\"text\")\n    .attr(\"x\", 0)\n    .attr(\"dy\", \".35em\")\n    .style(\"fill-opacity\", .1);\n\n  var changedNodes = node\n    .filter(d=>{\n      return d.needsUpdate\n    })\n  \n  console.log('changedNodes', changedNodes.size())\n  var nodeUpdate = changedNodes\n    .transition()\n    .delay(d=>d.updateIndex*td.delay)\n    .style(\"opacity\", 1)\n    .duration(td.duration)\n    .attr(\"transform\", function(d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; })\n    .each(\"end\", function(d){\n      d3.select(this)\n        .select(\"text\")\n        .text(d=>d.displayName)\n        .style(\"fill-opacity\", 1)\n        .each(utils.wrapText(120))\n        .each(utils.fitText(70))\n    });\n  \n  changedNodes\n    .select('path')\n    .classed('is-flow', d=>d.f.isEvent)\n  \n  changedNodes\n    .classed('is-cancelled', d=>d.f.source.status=='CANCELLED')\n    .classed('is-parent-cancelled', d=>utils.parentCancelled(d))\n    .classed('is-recipient', d=>utils.isRecipient(d,td))\n    .classed('has-no-recipients', d=>utils.hasNoRecipients(d))\n    .classed('is-emitter', d=>utils.isEntryPoint(d,td))\n    .call(listeners)\n  \n  nodeUpdate\n    .select(\"path\")\n    .attr('d', d=>d.f.isEvent? DROP : CIRCLE)\n\n  var nodeExit = node.exit()\n    .remove();\n}\n\n\nfunction listeners(sel){\n  const R = 2;\n\n  var e = sel\n    .select('.listeners')\n    .selectAll('.listener')\n    .data(d=>d.f.source.listeners)\n\n  var l = e.enter()\n    .append('g')\n    .classed('listener', true)\n    .attr(\"transform\", (d,i)=>(\n      \"translate(\" + (RADIUS+R) + \",\" + (RADIUS+i*(R+.5)*2) + \")\")\n    )\n\n    //TODO add tooltips\n  //l.append('text')\n    //.text(String)\n\n  l.append('circle')\n    .attr(\"r\", R)\n    .attr('title', String)\n\n  e.exit().remove()\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/nodes/nodes.js\n **/","\nexport const CIRCLE = 'm-12.50001,0.54385c0,-7.20655 5.8373,-13.04385 13.04385,-13.04385c7.20655,0 13.04385,5.8373 13.04385,13.04385c0,7.20655 -5.8373,13.04385 -13.04385,13.04385c-7.20655,0 -13.04385,-5.8373 -13.04385,-13.04385z'\nexport const DROP = 'm9.72864,6.18447c0,5.21228 -4.34827,9.44253 -9.70596,9.44253c-5.35769,0 -9.80507,-4.2312 -9.70595,-9.44253c0.1317,-6.99036 5.4678,-9.83766 9.70595,-17.87197c4.50158,7.77089 9.70596,12.65969 9.70596,17.87197z'\nexport const RADIUS = 10.4\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/paths.js\n **/","import {RADIUS} from '../utils/paths'\nimport utils from '../utils/utils'\n\nexport default (parent)=>(\n  nflow.create('links')\n    .parent(parent)\n    .data({\n      dom: null,\n      diagonal: d3.svg.diagonal()\n    })    \n    .on('dom'  , dom)\n    .on('update', render, updateRoutes)\n)\n\nfunction dom(dom){\n  this.target.data().dom = dom\n}\n\n\n function render(){\n  \n  let tree = this.target.parent()\n  let flow = this.target\n  let d = flow.data()\n  let td = tree.data()\n  let d3dom = td.d3links\n  let links = td.links.filter(link=>(\n      !link.source.hidden \n      && !link.target.hidden \n    ))\n  // Update the links\n  var link = d3dom.selectAll(\"path.link\")\n    .data(links, function(d) { return d.target.f.guid; });\n  // Enter any new links at the parent's previous position.\n  link.enter().insert(\"path\", \"g\")\n    .attr(\"class\", \"link\")\n    .attr(\"d\", function(d0) {\n    var o = {\n        x: d0.source.x\n      , y: d0.source.y\n    };\n    return d.diagonal({source: o, target: o});\n    });\n\n  var changedLinks = link\n    .filter(d=>{\n      return d.source.needsUpdate || d.target.needsUpdate\n    })\n  // Transition links to their new position.\n  changedLinks.transition()\n    .duration(td.duration)\n    .delay(d=>d.target.updateIndex*td.delay)\n    .attr(\"d\", getCoords.bind(flow));\n\n  changedLinks\n    .classed('is-flow', d=>d.target.f.isEvent)\n    .classed('is-removed', d=>d.target.f.isRemoved)\n    .classed('is-cancelled', d=>utils.parentCancelled(d.target))\n  // Transition exiting nodes to the parent's new position.\n  link.exit()\n    .remove();\n}\n\n\n\nfunction updateRoutes(data){\n  let flow = this.target\n  let tree = flow.parent()\n  let d = flow.data()\n  let td = tree.data()\n  let d3dom = td.d3nodes\n  let nodes = td.nodes\n  if (!td.showRoute\n    ||! td.showRoute.f.source.recipients) {\n    td.d3routes.html('')\n    return;\n  };\n  var line = d3.svg.line()\n    .x(d=>d.x)\n    .y(d=>d.y)\n    .interpolate('linear')\n\n  var paths = td.d3routes\n    .selectAll(\"g.route\")\n    .data(td.showRoute.f.source.recipients, d=>d.flow.guid);\n\n  paths\n    .enter()\n    .append('g')\n    .classed('route', true)\n\n  var links = paths\n    .selectAll('path.link')\n    .data(d=>{\n      var r = d.route.concat()\n      var pairs = []\n      while (r.length>1) {\n        pairs.push({\n          source:td.nodeMap[r[0].guid],\n          target:td.nodeMap[r[1].guid]})\n        r.shift()\n      }\n      pairs = pairs\n        .filter(pair=>(pair.source && pair.target))\n        .filter(pair=>(\n          !pair.source.hidden \n       && !pair.target.hidden))\n      return pairs\n    })\n\n  links.enter()\n    .insert(\"path\", \"g\")\n    .attr(\"class\", \"link\")\n\n  links.attr(\"d\", getCoords.bind(flow));\n}\n\nfunction getCoords(d){\n  return this.data().diagonal({\n      source: { x: d.source.x, y:d.source.y }\n    , target: { x: d.target.x, y:d.target.y -(d.target.f.isEvent?7:0) }\n    })\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/links/links.js\n **/","import Tree from '../tree/tree'\nimport nflow from 'nflow'\n\nexport default (parent)=>(\n  nflow.create('timeline')\n    .parent(parent)\n    .call(Tree)\n    .data({\n      eventRoot:{\n        name: 'event-root',\n        guid: -1,\n        parent: null,\n        children: [],\n        source: null,\n        hidden:true\n      },\n      d3dom: null\n    })\n    .on('update', updateEventRoot\n                , updateBG)\n    .call(init)\n    // .on('allow-dragging', allowDragging)\n    // .on('show-events', showEvents)\n    // .on('show-route', showRoute)\n    // .on('type', setType)\n\n)\n\nfunction init(f){\n  var d = f.data()\n  f.emit.downstream('dragging', 'horizontal')\n  f.create('lines')\n    .on('dom'   , dom=>{d.d3dom = d3.select(dom)}\n                , dom\n      )\n\n}\n\nfunction dom(d){\n  \n  let d3dom = d3.select(d)\n    \n  let drag = d3dom.select('.tree')\n    .insert('g',\":first-child\")\n    .classed('timeline-bg', true)\n\n\n}\n\nfunction updateEventRoot(d){\n  //console.log('timeline update')\n  d.eventRoot = this.target.data().eventRoot\n  d.eventRoot.source = d.root.source\n  d.eventRoot.guid = d.root.guid\n  d.eventRoot.children = []\n  findEvents(d.root)\n  \n  function findEvents(node){\n    node.children.forEach(e=>{\n      if (e.isEvent) {\n        //let n = clone(e, node)\n        let n = e\n        n && d.eventRoot.children.push(n)\n      }\n      else findEvents(e)\n    })\n  }\n\n  function clone(e,p){\n    let lastEvent = d.eventRoot.children.length \n      && d.eventRoot.children[d.eventRoot.children.length-1]\n    \n    // if (lastEvent.source == p.source) {\n    //   lastEvent.children.push(e)\n    //   return null\n    // }\n    return {\n        name: p.name,\n        guid: p.guid+ '-'+d.eventRoot.children.length,\n        children: [e],\n        source: p.source\n      }\n  }\n\n}\n\nfunction updateBG(d){\n  var maxDepth = getMaxDepth(d.eventRoot)\n  var depthArr = Array(maxDepth).fill()\n\n  var data = this.target.data()\n  var sel = data.d3dom.select('.timeline-bg')\n    .selectAll('rect')\n    .data(depthArr)\n\n  sel.enter()\n    .append('rect')\n      .attr(\"x\", -10000)\n      .attr(\"y\", (d,i)=>40+i*40)\n      .attr(\"width\", 20000)\n      .attr(\"height\", 40)\n\n  sel.exit().remove()\n  \n}\n\nfunction getMaxDepth(node, i=0){\n  if (!node.children\n    || !node.children.length) return i\n  return Math.max(...node.children\n    .map(e=>getMaxDepth(e,i+1)))\n}\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/timeline/timeline.js\n **/","import nflow from 'nflow'\nimport Parser from '../parser/parser'\nimport Tree from '../tree/tree'\nimport Timeline from '../timeline/timeline'\n\nexport default (parent)=>(\n  nflow.create('flow-vis-debug')\n    .parent(parent)\n    .data({\n      d3dom:null,\n      selectedNode:null\n    })\n    .call(Parser)\n    .on('dom', dom)\n    .on('select-node', selectNode)\n)\n\nfunction dom(dom){\n  console.log(dom)\n  var flow = this.target\n  var d = flow.data()\n  var isSVG = dom instanceof SVGElement\n  d.d3dom = d3.select(dom)\n  \n  if (!isSVG) d.d3dom=d.d3dom.append('svg')\n    .attr('width', '100%')\n    .attr('height', '100%')\n\n  d.d3dom\n    .classed('flow-vis-debug', true)\n\n  d.d3tree = d.d3dom\n    .append('g')\n    .classed('tree', true)\n\n  \n  d.d3timeline = d.d3dom\n    .append('g')\n    .classed('timeline', true)\n\n  resize(d)\n  var tree =  Tree(flow)\n  tree.emit.downstream('dom', d.d3tree.node())\n  tree.emit.downstream('show-events', false)\n \n  var timeline = nflowVis.Timeline(flow)   \n  timeline.emit.downstream('dom', d.d3timeline.node())\n    \n}\n\nfunction resize(d){\n  var w = parseInt(d.d3dom.style('width'))\n  var h = parseInt(d.d3dom.style('height'))\n  const TIMELINE_HEIGHT = 200\n  d.d3tree\n    .attr('width', w)\n    .attr('height', h)\n  \n  d.d3timeline\n    .attr('width', w)\n    .attr('height', TIMELINE_HEIGHT)\n    .attr('transform', `translate(0,${h-TIMELINE_HEIGHT})`)\n\n}\n\nfunction selectNode(node){\n  if (this.target.data().selectedNode == node) return\n  this.target.data().selectedNode = node\n  console.log('selectedNode', this.target.data().selectedNode)\n  var s = this.emit('get-model').data()\n  this.emit('update',s)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/debug/debug.js\n **/"],"sourceRoot":""}